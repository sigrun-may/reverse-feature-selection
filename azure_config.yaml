# Copyright (c) 2024 Sigrun May,
# Ostfalia Hochschule f√ºr angewandte Wissenschaften
#
# This software is distributed under the terms of the MIT license
# which is available at https://opensource.org/licenses/MIT


$schema: 'https://azuremlschemas.azureedge.net/latest/commandJob.schema.json'
environment:
  image: library/python:3.11
code: ./
command: |
  python3 -m venv virtual-env
  source virtual-env/bin/activate
  pip install -r requirements.txt
  pip list
  python3 src/reverse_feature_selection/main.py ${{outputs.outdir}}
compute: 'cpu-120-cores'
resources:
  instance_count: 1
outputs:
  outdir:
    type: uri_folder
    path: azureml://subscriptions/ebcfd0f7-1a0a-443d-b869-0c9c696bfb0b/resourcegroups/DefaultResourceGroup-westeurope/workspaces/default-west-europe-ws/datastores/workspaceblobstore/paths/experiments/
    mode: rw_mount
experiment_name: colon_s30
display_name: colon_s30

# az ml job create --file azure_config.yaml --workspace-name west-europe-ws --resource-group DefaultResourceGroup-westeurope
